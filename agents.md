# AIエージェント向けガイド

## 目的
- 不要なディレクトリ探索を避け、作業時間の増加を防ぐ。

## ディレクトリ構造の概要
- `src/`: アプリケーション本体（主要な実装対象）。
- `src/components/`: UI コンポーネント群。共通 UI は `src/components/ui/` に集約。
- `src/pages/` / `src/features/`: 画面単位や機能単位の実装（存在する場合はここを起点に探索）。
- `data/`: マニュアルなどの補助資料。機能変更時の更新対象。
- `scripts/`: 開発用スクリプトや補助ツール。
- ルート直下: ビルド設定（`vite.config.ts` / `tailwind.config.cjs` など）とエントリーファイル（`index.html`）。

## 分割方針（ファイル探索・変更箇所の特定）
- 画面や機能の修正は、まず `src/pages/` / `src/features/` を確認し、そこから利用されるコンポーネントへ辿る。
- UI 共通処理は `src/components/ui/` を優先し、個別 UI は `src/components/` 配下で検索する。
- 状態管理やドメインロジックが分離されている場合は、`src/` 直下の該当フォルダ（`hooks` / `lib` / `utils` など）を確認する。
- 仕様変更が画面横断の場合は、共通コンポーネントとユーティリティを先に調べ、重複修正を避ける。

## 探索を最小限にする方針
- 目的のファイルが明確な場合は、`rg` などで対象を絞り込む。
- ルートや全階層の網羅的な探索（例: `ls -R` / `find /`）は原則行わない。
- 次のディレクトリは通常探索対象外とする（必要時のみ明示的に参照）。
  - `node_modules/`
  - `dist/` / `build/`
  - `.git/`
  - `data/`（明確な目的がある場合のみ）
- 機能に変更があった場合は README とマニュアル（`data/` 配下の .md）も更新する。

## コマンドの推奨
- 検索は `rg` を優先して使用する。
- 目的のファイルが分かっている場合は直接パス指定で開く。

## UI共通スタイルの補足
- フォーム系 UI（Input / Textarea / Select）の共通クラスは `src/components/ui/form-control.ts` に集約しています。
- フォームの見た目やフォーカス状態を変更する場合は、まず `formControlBase` を確認してください。

## 長期運用（10年）を意識した実装方針
- 日付範囲は固定の週単位に閉じず、週移動に合わせて前後へ拡張できる設計を維持する。
- 月跨ぎ・年跨ぎの境界で破綻しないよう、ISO日付と日数差分での計算を優先する。
- スケジュール仕様を変更した場合は、README と `data/` 配下マニュアルへの反映も忘れない。

## 実装時のライブラリ導入指針
- 要求機能を簡潔に実現できる場合は、新しいライブラリや軽量なユーティリティの導入を検討してよい。
