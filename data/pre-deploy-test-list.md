# デプロイ前テスト一覧（実行チェックリスト）

デプロイ前に実施すべきテストと確認項目のチェックリストです。各項目は**テスターが具体的に実行できる粒度**で記載しています。環境に合わせて必要箇所のみ実施してください。

## 使い方
- 各項目の「実施結果」に **OK/NG/保留** を記入してください。
- NG の場合は **再現手順・期待結果・実際結果** を記録してください。
- 可能であれば **スクリーンショット** と **ログ** を添付してください。

---

## 1. 基本動作（ガントチャート）

### 1-1. ブロック追加と編集
- **手順**:
  1. ガントチャートの任意の空きスロットをクリックしてブロックを追加する。
  2. 品目を選択し、数量を入力して保存する。
  3. ブロックをクリックし、メモを編集して保存する。
- **期待結果**:
  - ブロックが表示され、数量・メモが反映される。
- **実施結果**:

### 1-2. ブロックの移動とリサイズ
- **手順**:
  1. 既存ブロックをドラッグして別スロットへ移動する。
  2. ブロックの端をドラッグして長さ（期間）を変更する。
- **期待結果**:
  - 移動後の位置・期間が正しく更新される。
- **実施結果**:

### 1-3. 表示密度の切り替え
- **手順**:
  1. 表示密度を「1時間」「2時間」「日」に切り替える。
  2. 切り替え後もブロックが表示され続けることを確認する。
- **期待結果**:
  - 表示密度に応じてスロットが再計算される。
- **実施結果**:

### 1-4. 週移動と日付範囲の拡張
- **手順**:
  1. 週送り/週戻しで表示範囲を切り替える。
  2. 遠い将来週へ移動しても操作が継続できることを確認する。
- **期待結果**:
  - 日付範囲が自動拡張され、表示崩れが起きない。
- **実施結果**:

## 2. マスタ管理（品目・原料・レシピ）

### 2-1. 品目マスタの追加・更新
- **手順**:
  1. 品目コードと品目名を入力して保存する。
  2. 既存品目の名称や安全在庫を更新して保存する。
- **期待結果**:
  - 一覧に反映され、再読み込み後も保持される。
- **実施結果**:

### 2-2. 原料マスタの追加・更新
- **手順**:
  1. 原料コードと原料名を入力して保存する。
  2. 既存原料の名称や単位を更新して保存する。
- **期待結果**:
  - 一覧に反映され、再読み込み後も保持される。
- **実施結果**:

### 2-3. レシピ編集と原料消費量の計算
- **手順**:
  1. 品目に対して原料レシピ（原料ID・使用量/単位）を登録する。
  2. 当該品目の生産ブロックを追加し、数量を設定する。
  3. 日次在庫/原料消費量の表示を確認する。
- **期待結果**:
  - **生産数量 × レシピ使用量** で原料消費量が計算される。
- **実施結果**:

## 3. データ取り込み（Excel/CSV）

### 3-1. 日別在庫の取り込み
- **手順**:
  1. 必須列（日期・品目コード・在庫数）を含むファイルを取り込む。
  2. 出荷数列が含まれる場合も取り込めることを確認する。
  3. 表示される在庫一覧が更新されることを確認する。
- **期待結果**:
  - 取り込み後、日別在庫が反映される。
  - 出荷数の取り込みエラーが発生しない。
- **実施結果**:

### 3-2. 必須項目欠損の行スキップ
- **手順**:
  1. 必須列の一部が欠損した行を含むファイルを取り込む。
  2. 取り込み結果の件数表示を確認する。
- **期待結果**:
  - **正常な行のみ**が取り込まれ、欠損行はスキップされる。
- **実施結果**:

### 3-3. マスタに存在しない品目コードの扱い
- **手順**:
  1. 品目マスタに存在しない品目コードを含む在庫データを取り込む。
  2. 取り込み後の一覧を確認する。
- **期待結果**:
  - 存在しない品目コードの行は取り込まれない。
- **実施結果**:

## 4. 日次在庫・原料消費の検算

### 4-1. ランダム品目での原料消費量検算
- **手順**:
  1. ランダムに1品目を選択する。
  2. レシピ（原料使用量）と生産数量から理論消費量を手計算する。
  3. 画面の原料消費量表示と一致するか確認する。
- **期待結果**:
  - 手計算と表示結果が一致する。
- **実施結果**:

### 4-2. 複数ブロックの合算
- **手順**:
  1. 同一品目で複数ブロックを追加する。
  2. 原料消費量が合算されているか確認する。
- **期待結果**:
  - 複数ブロックの消費量が合算表示される。
- **実施結果**:

## 5. データ保存と復元

### 5-1. 画面更新後のデータ保持
- **手順**:
  1. ブロックやマスタを更新する。
  2. 画面をリロードする。
- **期待結果**:
  - 更新内容が保持されている。
- **実施結果**:

### 5-2. JSON エクスポート
- **手順**:
  1. JSONエクスポートを実行する。
  2. 出力ファイルを開いて内容を確認する。
- **期待結果**:
  - ブロック・品目・原料などの情報が含まれている。
- **実施結果**:

## 6. Gemini チャット更新（利用している場合のみ）

### 6-1. 送信対象期間の制御
- **手順**:
  1. チャット設定で送信対象日数を変更する。
  2. チャット更新を実行する。
- **期待結果**:
  - 指定日数分の計画のみが送信対象になる。
- **実施結果**:

### 6-2. 更新アクションの反映
- **手順**:
  1. チャットで計画更新指示を送る。
  2. 返却された更新内容が画面に反映されることを確認する。
- **期待結果**:
  - ブロック作成/更新などのアクションが反映される。
- **実施結果**:

## 7. リリース前の最終確認

### 7-1. 手動スモークテスト
- **手順**:
  1. 「起動→主要画面表示→データ追加→保存→再読み込み」を一通り実施する。
- **期待結果**:
  - 主要機能に致命的な問題がない。
- **実施結果**:

### 7-2. リリースノート確認
- **手順**:
  1. 変更点がリリースノートに反映されているか確認する。
- **期待結果**:
  - 変更点の記載漏れがない。
- **実施結果**:

### 7-3. 監視・アラート設定の確認
- **手順**:
  1. 監視ダッシュボードとアラート設定を確認する。
- **期待結果**:
  - 重要な異常が検知できる状態になっている。
- **実施結果**:

---

必要に応じて、項目の追加・削除や環境固有の手順を追記してください。
